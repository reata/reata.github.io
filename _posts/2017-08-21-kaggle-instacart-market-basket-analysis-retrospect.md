---
title: "Kaggle Instacart复购预测竞赛回顾"
excerpt: "客户下次会购买什么"
header:
  overlay_image: assets/images/instacart.png
  overlay_filter: 0.4
  caption: "图片引用自https://kaggle2.blob.core.windows.net/competitions/kaggle/6644/logos/header.png"
categories:
  - kaggle
  - classification
tags:
  - machine learning
  - e-commerce re-purchase
author: "胡俊伟"
date: "21 August 2017"
---

Instacart是一家食品类垂直电商，在Kaggle上举办的这场比赛中，他们公开了交易数据，参赛人员将建立机器学习模型，预测用户会再度购买哪些商品。知道用户可能会购买哪些商品，有什么样的用处呢？最直接的，网站可以给用户针对性地发优惠券促销，而更远景的目标，结合一些其它数据，或许可以做销量预测和库存优化，节约仓储、采购成本。

### 已有数据集

比赛使用的数据仅包含交易数据，不包含浏览数据。主要由以下几张表构成：

1. 订单表 orders（订单ID，用户ID，所属数据集，该用户的订单序号，订单下单在星期几，订单下单所在小时，距离上一次下单过去的天数）：数据粒度为一个订单事实。其中，所属数据集包含三类：a) 先验集：所有用户在历史一段时间内产生的所有订单；b) 训练集：从所有用户中抽出一部分训练用户，在考察周期内产生的所有订单；c) 测试集：除去训练用户外剩下的用户，在考察周期内产生的所有订单。先验集中，每个用户可能包含多个订单。而对于训练集和测试集，除去两者的用户无交集外，每个用户在各自集合内都只会有一个订单。

2. 商品表 products（商品ID，商品名称，通道ID，分类ID）：数据粒度为一件商品。

3. 通道表 aisles（通道ID，通道名称）：数据粒度为一个通道。这里的通道，就是超市里的通道，每一个通道两侧的商品，通常是一个类别的。

4. 分类表 departments（分类ID，分类名称）：数据粒度为一个分类。是比通道更大的分类概念，但二者相互没有确定的包含关系。

5. 先验集订单商品表 order_products_prior（订单ID，商品ID，加入购物车的次序，是否复购）：注意先验集包含所有的用户，这里的数据粒度是历史一段时期内，所有用户购买的所有商品记录。

6. 训练集订单商品表 order_products_train（订单ID，商品ID，加入购物车次序，是否复购）：这里是训练集用户，在考察期内，购买的所有商品记录。上面提过，这个数据集里的每个用户，只会有一个订单，其中包含若干个商品，可能包含也可能不包含复购的商品。

如果不使用NLP的方法对名称类字段进行处理的话，商品名称、通道名称、分类名称这几个字段是没有用的。由于在实际项目中，也没有进行相关处理，后面这几个字段将略过不谈。

### 目标

### 机器学习表述

### 特征工程之维度建模

### 无复购的处理

### 算法的优化目标 vs 问题的优化目标

### 参考阅读
